{# SYNTAX TEST "JSON (Twig).sublime-syntax" #}

{
  {% if true %}
{#^^^^^^^^^^^^^ meta.embedded.statement.twig #}
{#^^ punctuation.section.embedded.begin.twig #}
{#   ^^ keyword.control.conditional.if.twig #}
{#      ^^^^ constant.language.boolean.true.twig #}
{#           ^^ punctuation.section.embedded.end.twig #}

  {% else %}
{#^^^^^^^^^^ meta.embedded.statement.twig #}
{#^^ punctuation.section.embedded.begin.twig #}
{#   ^^^^ keyword.control.conditional.else.twig #}
{#        ^^ punctuation.section.embedded.end.twig #}

  {% endif %}
{#^^^^^^^^^^^ meta.embedded.statement.twig #}
{#^^ punctuation.section.embedded.begin.twig #}
{#   ^^^^^ keyword.control.conditional.endif.twig #}
{#         ^^ punctuation.section.embedded.end.twig #}

    "{{key}}": "{{value}}",
{#  ^ meta.mapping.key.json string.quoted.double.json punctuation.definition.string.begin.json #}
{#   ^^^^^^^ meta.mapping.key.json meta.embedded.expression.twig #}
{#   ^^ punctuation.section.embedded.begin.twig #}
{#     ^^^ variable.other.twig #}
{#        ^^ punctuation.section.embedded.end.twig #}
{#          ^ meta.mapping.key.json string.quoted.double.json punctuation.definition.string.end.json #}
{#           ^^ meta.mapping.json #}
{#             ^ meta.mapping.value.json meta.string.json string.quoted.double.json punctuation.definition.string.begin.json #}
{#              ^^^^^^^^^ meta.mapping.value.json meta.string.json - string #}
{#              ^^ meta.embedded.expression.twig punctuation.section.embedded.begin.twig #}
{#                ^^^^^ meta.embedded.expression.twig variable.other.twig #}
{#                     ^^ meta.embedded.expression.twig punctuation.section.embedded.end.twig #}
{#                       ^ string.quoted.double.json punctuation.definition.string.end.json #}
{#                        ^ punctuation.separator.sequence.json #}

    "key": [{{value}}, "{{value}}-string"],
{#         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.mapping.value.json meta.sequence.json #}
{#          ^^^^^^^^^ meta.embedded.expression.twig #}
{#          ^^ punctuation.section.embedded.begin.twig #}
{#            ^^^^^ variable.other.twig #}
{#                 ^^ punctuation.section.embedded.end.twig #}
{#                   ^ punctuation.separator.sequence.json #}
{#                     ^ string.quoted.double.json punctuation.definition.string.begin.json #}
{#                      ^^^^^^^^^ meta.string.json meta.embedded.expression.twig - string #}
{#                               ^^^^^^^^ meta.string.json string.quoted.double.json #}
{#                                      ^ punctuation.definition.string.end.json #}
}